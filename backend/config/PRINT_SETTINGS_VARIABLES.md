# متغيرات إعدادات الطباعة - Print Settings Variables

## المتغيرات المتاحة في حقل الشروط (terms)

يمكنك استخدام هذه المتغيرات في حقل "الشروط والأحكام" (`terms`) وسيتم استبدالها تلقائياً بالقيم الحقيقية:

| المتغير | الوصف | مثال القيمة |
|---------|--------|------------|
| `{{requestNumber}}` | رقم طلب الإصلاح | REP-20251120-078 |
| `{{customerName}}` | اسم العميل | أحمد محمد |
| `{{branchName}}` | اسم الفرع | Fix Zone - فرع وسط البلد |
| `{{branchAddress}}` | عنوان الفرع | مول البستان الدور الأرضي |
| `{{branchPhone}}` | هاتف الفرع | 01270388043 |

### مثال على الاستخدام:

```
- يُرجى الاحتفاظ بهذا الإيصال لمراجعة الطلب رقم {{requestNumber}} للعميل {{customerName}}.
- الأجهزة تترك للفحص لمدة 48 ساعة قبل تقدير التكلفة النهائية.

{{branchName}}
{{branchAddress}}
هاتف: {{branchPhone}}

سياسة الضمان:
- الضمان يشمل العطل المُصلّح فقط ولا يشمل الأعطال الأخرى.
- إلغاء الضمان في حال وجود كسر أو سوائل أو عبث بعد التسليم.
```

## جميع إعدادات الطباعة المتاحة

### 1. إعدادات النصوص

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `title` | نص | "إيصال استلام" | عنوان الإيصال الرئيسي |
| `fontSize` | رقم | 11 | حجم الخط الأساسي (بكسل) |
| `titleFontSize` | رقم | 18 | حجم خط العنوان الرئيسي (بكسل) |
| `sectionTitleFontSize` | رقم | 12 | حجم خط عناوين الأقسام (بكسل) |

### 2. إعدادات اللوجو

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `showLogo` | boolean | true | إظهار/إخفاء اللوجو |
| `logoUrl` | نص (base64) | "" | عنوان اللوجو بصيغة base64 |
| `logoHeight` | رقم | 40 | ارتفاع اللوجو (بكسل) |

### 3. إعدادات QR Code

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `showQr` | boolean | true | إظهار/إخفاء رمز QR |
| `qrSize` | رقم | 60 | حجم رمز QR (بكسل) |

### 4. إعدادات الباركود

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `showSerialBarcode` | boolean | true | إظهار/إخفاء باركود الرقم التسلسلي |
| `barcodeWidth` | رقم | 1 | عرض خط الباركود |
| `barcodeHeight` | رقم | 28 | ارتفاع الباركود (بكسل) |

### 5. إعدادات الأقسام

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `showCustomerSection` | boolean | true | إظهار/إخفاء قسم بيانات العميل |
| `showDeviceSection` | boolean | true | إظهار/إخفاء قسم بيانات الجهاز |
| `showProblemSection` | boolean | true | إظهار/إخفاء قسم وصف المشكلة |
| `showAccessoriesSection` | boolean | true | إظهار/إخفاء قسم المتعلقات |
| `showTermsSection` | boolean | true | إظهار/إخفاء قسم الشروط والأحكام |
| `showSignatureSection` | boolean | true | إظهار/إخفاء قسم التوقيعات |

### 6. إعدادات أمنية

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `showDevicePassword` | boolean | false | إظهار/إخفاء كلمة سر الجهاز في الإيصال |

### 7. إعدادات عامة

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `compactMode` | boolean | false | الوضع المدمج (يقلل المسافات) |
| `dateDisplay` | نص | "both" | نوع عرض التاريخ: "hijri", "gregorian", "both" |

### 8. بيانات الشركة والفرع

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `companyName` | نص | "FixZone" | اسم الشركة |
| `address` | نص | "" | عنوان الشركة |
| `phone` | نص | "" | هاتف الشركة |
| `email` | نص | "" | بريد الشركة |
| `branchName` | نص | "" | اسم الفرع |
| `branchAddress` | نص | "" | عنوان الفرع |
| `branchPhone` | نص | "" | هاتف الفرع |

### 9. النصوص القانونية

| الإعداد | النوع | القيمة الافتراضية | الوصف |
|---------|-------|-------------------|--------|
| `terms` | نص | "" | الشروط والأحكام (يدعم المتغيرات) |
| `deliveryAcknowledgement` | نص | "" | نص إقرار التسليم |

## طرق التعديل

### الطريقة 1: من واجهة النظام
```
الإعدادات > Print Settings > تعديل الإعدادات
```

### الطريقة 2: تعديل الملف مباشرة
```bash
backend/config/print-settings.json
```

### الطريقة 3: عبر API
```bash
PUT http://localhost:3001/api/repairs/print-settings
Content-Type: application/json

{
  "fontSize": 12,
  "showLogo": true,
  "logoHeight": 45,
  "terms": "شروط جديدة هنا..."
}
```

## ملاحظات مهمة

1. **اللوجو**: يجب أن يكون بصيغة base64 (data:image/png;base64,...)
2. **أحجام الخطوط**: احذر من استخدام أحجام كبيرة جداً قد تتجاوز حجم صفحة A4
3. **المتغيرات**: تعمل فقط في حقل `terms`
4. **التاريخ**: يمكنك اختيار عرض التاريخ الهجري أو الميلادي أو كليهما
5. **كلمة السر**: لأسباب أمنية، يُنصح بعدم إظهار كلمة سر الجهاز في الإيصال المطبوع

