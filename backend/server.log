nohup: ignoring input
‚ö†Ô∏è Rate limiting disabled (development mode)
‚ö†Ô∏è SETTINGS_ENCRYPTION_KEY not set, using default (NOT SECURE FOR PRODUCTION)
[CRON] Starting messaging cron jobs...
‚úÖ Messaging cron jobs initialized
üîå WebSocket service initialized
üöÄ Fix Zone Backend Server is running on port 4000
üìä API Base URL: http://localhost:4000/api
üè• Health Check: http://localhost:4000/health
üîå WebSocket URL: ws://localhost:4000/ws
‚úÖ Database connected successfully
[CRON] ‚úÖ Overdue payments job started (daily at 9 AM)
[CRON] ‚úÖ Payment reminders job started (daily at 10 AM)
‚è∏Ô∏è Auto Backup Scheduler stopped
‚úÖ Daily backup scheduled: 02:00
‚úÖ Auto Backup Scheduler initialized
   Daily: Enabled (02:00)
   Weekly: Disabled
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
üîç [GET /:id] Repair ID: 1428
üîç [GET /:id] repair.customFields raw from DB: {"estimatedCostMin":8999,"estimatedCostMax":29023}
üîç [GET /:id] repair.customFields type: string
üîç [GET /:id] repair.estimatedCost: 19011.00
üîç [GET /:id] Parsed customFields: { estimatedCostMin: 8999, estimatedCostMax: 29023 }
üîç [GET /:id] Response data: {
  hasTrackingToken: true,
  trackingToken: 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1',
  hasDeviceSpecs: true,
  deviceSpecsKeys: [ 'cpu', 'gpu', 'ram', 'storage' ],
  hasAccessories: true,
  accessoriesLength: 0,
  accessories: [],
  hasCreatedAt: true,
  createdAt: 2025-12-06T15:31:17.000Z
}
üîç Repair Request Services Query Result: {
  repairRequestId: 1428,
  count: 1,
  services: [
    {
      id: 28,
      serviceId: null,
      serviceName: null,
      technicianId: 6,
      technicianName: 'Technician User'
    }
  ]
}
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
üîç [GET /:id] Repair ID: 1428
üîç [GET /:id] repair.customFields raw from DB: {"estimatedCostMin":8999,"estimatedCostMax":29023}
üîç [GET /:id] repair.customFields type: string
üîç [GET /:id] repair.estimatedCost: 19011.00
üîç [GET /:id] Parsed customFields: { estimatedCostMin: 8999, estimatedCostMax: 29023 }
üîç [GET /:id] Response data: {
  hasTrackingToken: true,
  trackingToken: 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1',
  hasDeviceSpecs: true,
  deviceSpecsKeys: [ 'cpu', 'gpu', 'ram', 'storage' ],
  hasAccessories: true,
  accessoriesLength: 0,
  accessories: [],
  hasCreatedAt: true,
  createdAt: 2025-12-06T15:31:17.000Z
}
üîç Repair Request Services Query Result: {
  repairRequestId: 1428,
  count: 1,
  services: [
    {
      id: 28,
      serviceId: null,
      serviceName: null,
      technicianId: 6,
      technicianName: 'Technician User'
    }
  ]
}
getAllInvoices called with: {
  repairRequestId: 1428,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 50
}
Added repairRequestId filter: 1428
Query executed, found invoices: 1
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: 1428,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 50
}
Added repairRequestId filter: 1428
üîç getInvoiceItems (Simple) called for invoice ID: 1426
Query executed, found invoices: 1
‚úÖ Found 2 invoice items for invoice 1426
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
üîç getInvoiceItems (Simple) called for invoice ID: 1426
‚úÖ Found 2 invoice items for invoice 1426
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.trackingToken = ?
Query params: [ 'df1d7a2e406e6245f78ce25419146ec8a0b538f633167ff1' ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
getAllInvoices called with: {
  repairRequestId: undefined,
  customerId: undefined,
  paymentStatus: undefined,
  page: 1,
  limit: 20
}
Query executed, found invoices: 20
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
Final query: 
      SELECT 
        rr.id,
        rr.reportedProblem,
        rr.status,
        rr.trackingToken,
        rr.createdAt,
        rr.updatedAt,
        rr.estimatedCost,
        rr.expectedDeliveryDate,
        c.name as customerName,
        c.phone as customerPhone,
        c.email as customerEmail,
        d.deviceType,
        COALESCE(vo.label, d.brand) as deviceBrand,
        d.model as deviceModel,
        b.name as branchName
      FROM RepairRequest rr
      LEFT JOIN Customer c ON rr.customerId = c.id AND c.deletedAt IS NULL
      LEFT JOIN Device d ON rr.deviceId = d.id
      LEFT JOIN VariableOption vo ON d.brandId = vo.id
      LEFT JOIN Branch b ON rr.branchId = b.id AND b.deletedAt IS NULL
      WHERE rr.deletedAt IS NULL
     AND rr.id = ?
Query params: [ 1428 ]
