# ๐ ุชูุฑูุฑ ุดุงูู ุนู ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ
## Settings Admin System - Comprehensive Analysis Report

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 2025-01-28  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุญุงูุฉ:** โ ููุชูู

---

## ๐ ููุฎุต ุชูููุฐู

ูุฐุง ุงูุชูุฑูุฑ ููุฏู ุชุญูููุงู ุดุงููุงู ูุฌููุน ุชุจููุจุงุช ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ูู ูุธุงู FixZoneุ ูุน ุชูููู ูุงุนููุฉ ูู ุชุจููุจุ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ ุจู ูู ุงููุธุงูุ ูุงูุฃุฎุทุงุก ุงููุญุชููุฉ ูุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ.

---

## 1๏ธโฃ ุชุจููุจ "ุนุงู" (General Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ูุนูููุงุช ุงูุดุฑูุฉ ุงูุฃุณุงุณูุฉ (ุงูุงุณูุ ุงูุนููุงูุ ุงููุงุชูุ ุงููููุน ุงูุฅููุชุฑูููุ ุงูุดุนุงุฑ).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** `localStorage` (via `SettingsContext`)
- **ุงูุชุฎุฒูู:** `fixzone_settings_v1` ูู localStorage

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏู ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ:**
- โ `RepairPrintPage.js` - ุทุจุงุนุฉ ุฅูุตุงูุงุช ุงูุฅุตูุงุญ
- โ `InvoicePrintPage.js` - ุทุจุงุนุฉ ุงูููุงุชูุฑ
- โ `InvoiceTemplatesPage.js` - ููุงูุจ ุงูููุงุชูุฑ
- โ `ReceiptPrintSettingsPage.js` - ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูุฅูุตุงูุงุช
- โ `InvoicePrintSettingsPage.js` - ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูููุงุชูุฑ

#### 2. **ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
```javascript
// frontend/react-app/src/config/settings.js
company: {
  name: 'FixZone',
  address: 'ููู ุงูุจุณุชุงู ุงูุชุฌุงุฑู - ุงูุฏูุฑ ุงูุฃุฑุถู',
  phone: '01270388043',
  website: '',
  logoUrl: '/logo.png',
}
```

#### 3. **ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
- โ ูุชู ุงุณุชุฎุฏุงู `settings.company.name` ูู ุทุจุงุนุฉ ุงูุฅูุตุงูุงุช
- โ ูุชู ุงุณุชุฎุฏุงู `settings.company.address` ูู ุทุจุงุนุฉ ุงูููุงุชูุฑ
- โ ูุชู ุงุณุชุฎุฏุงู `settings.company.phone` ูู ุชุฐูููุงุช ุงูุทุจุงุนุฉ
- โ ูุชู ุงุณุชุฎุฏุงู `settings.company.logoUrl` ูู ุฑุคูุณ ุงูุตูุญุงุช ุงููุทุจูุนุฉ

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ุงูุชุฒุงูู ูุน Backend:**
   - โ ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ููุท ูู `localStorage`
   - โ ูุง ููุฌุฏ API endpoint ูุญูุธ/ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
   - โ ุงูุชุบููุฑุงุช ูุง ุชุธูุฑ ุนูู ุฃุฌูุฒุฉ ุฃุฎุฑู

2. **ุนุฏู ูุฌูุฏ Validation:**
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุฑุงุจุท ุงููููุน ุงูุฅููุชุฑููู
   - โ ูุง ููุฌุฏ ุชุญูู ูู ูุฌูุฏ ููู ุงูุดุนุงุฑ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฑุจุท ูุน Backend API:**
   ```javascript
   // ุฅุถุงูุฉ API endpoints:
   GET  /api/settings/company
   PUT  /api/settings/company
   ```

2. **ุฅุถุงูุฉ Validation:**
   - ุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู (regex)
   - ุชุญูู ูู ุตุญุฉ URL ูููููุน ุงูุฅููุชุฑููู
   - ุชุญูู ูู ูุฌูุฏ ููู ุงูุดุนุงุฑ ูุจู ุงูุญูุธ

3. **ุฅุถุงูุฉ Preview:**
   - ูุนุงููุฉ ูุจุงุดุฑุฉ ููุชุบููุฑุงุช ูุจู ุงูุญูุธ
   - ูุนุงููุฉ ููู ุณูุธูุฑ ุงูุดุนุงุฑ ูู ุงูุทุจุงุนุฉ

4. **ุฅุถุงูุฉ Upload ููุดุนุงุฑ:**
   - ุฑูุน ููู ุงูุดุนุงุฑ ูุจุงุดุฑุฉ ูู ุงููุงุฌูุฉ
   - ูุนุงููุฉ ุงูุดุนุงุฑ ูุจู ุงูุญูุธ

---

## 2๏ธโฃ ุชุจููุจ "ุงูุนููุฉ" (Currency Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุงูุนููุฉ ุงููุณุชุฎุฏูุฉ ูู ุงููุธุงู (ุงูุฑูุฒุ ุงูุงุณูุ ุงูุชูุณููุ ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** `localStorage` (via `SettingsContext`)
- **ุงูุชุฎุฒูู:** `fixzone_settings_v1` ูู localStorage

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ:**
```javascript
// frontend/react-app/src/config/settings.js
export function formatMoney(amount, settings) {
  const cfg = (settings && settings.currency) || defaultSettings.currency;
  return new Intl.NumberFormat(cfg.locale || 'ar-EG', {
    style: 'currency',
    currency: cfg.code || 'EGP',
    minimumFractionDigits: cfg.minimumFractionDigits ?? 2,
  }).format(Number(amount || 0));
}
```

#### 2. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏู formatMoney:**
- โ ุฌููุน ุตูุญุงุช ุงูููุงุชูุฑ (`InvoicesPage`, `InvoiceDetailsPage`, `CreateInvoicePage`)
- โ ุฌููุน ุตูุญุงุช ุงููุฏููุนุงุช (`PaymentsPage`, `PaymentDetailsPage`)
- โ ุตูุญุฉ ุทูุจุงุช ุงูุฅุตูุงุญ (`RepairsPage`, `RepairDetailsPage`)
- โ ุตูุญุฉ ุงูุฎุฏูุงุช (`ServicesCatalog`)
- โ ุตูุญุฉ ุงููุฎุฒูู (`InventoryPage`)
- โ ุตูุญุฉ ุงูุชูุงุฑูุฑ ุงููุงููุฉ (`FinancialReportsPage`)
- โ ููุญุฉ ุงูุชุญูู (`DashboardPage`)

#### 3. **ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
```javascript
// ูุซุงู ูู ุฃู ุตูุญุฉ:
const { formatMoney } = useSettings();
<div>{formatMoney(1000)}</div>
// ุงููุชูุฌุฉ: ูกูฌููููซูู ุฌ.ู
```

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ุงูุชุฒุงูู ูุน Backend:**
   - โ ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ููุท ูู `localStorage`
   - โ ูุง ููุฌุฏ API endpoint ูุญูุธ/ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุนููุฉ
   - โ ุงูุชุบููุฑุงุช ูุง ุชุธูุฑ ุนูู ุฃุฌูุฒุฉ ุฃุฎุฑู

2. **ุนุฏู ุงุณุชุฎุฏุงู `position` field:**
   - โ ุญูู `position` (before/after) ููุฌูุฏ ูู ุงูุฅุนุฏุงุฏุงุช ููู ูุง ููุณุชุฎุฏู ูู `formatMoney`
   - โ `formatMoney` ูุณุชุฎุฏู `Intl.NumberFormat` ุงูุฐู ูุถุน ุงูุฑูุฒ ุชููุงุฆูุงู

3. **ุนุฏู ุฏุนู ุนููุงุช ูุชุนุฏุฏุฉ:**
   - โ ุงููุธุงู ูุฏุนู ุนููุฉ ูุงุญุฏุฉ ููุท
   - โ ูุง ูููู ุฅูุดุงุก ููุงุชูุฑ ุจุนููุงุช ูุฎุชููุฉ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฑุจุท ูุน Backend API:**
   ```javascript
   // ุฅุถุงูุฉ API endpoints:
   GET  /api/settings/currency
   PUT  /api/settings/currency
   ```

2. **ุชุญุณูู formatMoney:**
   ```javascript
   export function formatMoney(amount, settings) {
     const cfg = settings?.currency || defaultSettings.currency;
     const formatted = new Intl.NumberFormat(cfg.locale, {
       style: 'currency',
       currency: cfg.code,
       minimumFractionDigits: cfg.minimumFractionDigits ?? 2,
     }).format(Number(amount || 0));
     
     // ุชุทุจูู position ุฅุฐุง ูุงู ูุทููุจุงู
     if (cfg.position === 'before') {
       return `${cfg.symbol} ${amount.toFixed(cfg.minimumFractionDigits)}`;
     }
     return formatted;
   }
   ```

3. **ุฏุนู ุนููุงุช ูุชุนุฏุฏุฉ:**
   - ุฅุถุงูุฉ ูุงุฆูุฉ ุนููุงุช ูุฏุนููุฉ
   - ุงูุณูุงุญ ุจุงุฎุชูุงุฑ ุนููุฉ ููู ูุงุชูุฑุฉ
   - ุญูุธ ุงูุนููุฉ ูุน ูู ูุงุชูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

4. **ุฅุถุงูุฉ Currency Converter:**
   - ุฑุจุท ูุน API ูุชุญููู ุงูุนููุงุช
   - ุนุฑุถ ุงููุจูุบ ุจุนููุงุช ูุชุนุฏุฏุฉ ูู ุงูููุงุชูุฑ

---

## 3๏ธโฃ ุชุจููุจ "ุงูุทุจุงุนุฉ" (Printing Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ ุงูุนุงูุฉ (ูุณุฎุฉ ุงูุชุฑุงุถูุฉุ ุนูุงูุฉ ูุงุฆูุฉุ ุญุฌู ุงููุฑูุ ุงูุจุงุฑููุฏ).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ๏ธ ุฌุฒุฆูุงู ูุนูู
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** `localStorage` (via `SettingsContext`)
- **ุงูุชุฎุฒูู:** `fixzone_settings_v1` ูู localStorage

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ:**
```javascript
printing: {
  defaultCopy: 'customer', // customer | archive
  showWatermark: true,
  paperSize: 'A4',
  showSerialBarcode: true,
}
```

#### 2. **ุงูุตูุญุงุช ุงูุชู ูุฏ ุชุณุชุฎุฏููุง:**
- โ๏ธ `RepairPrintPage.js` - ููู ูุง ูุณุชุฎุฏู `defaultCopy` ุฃู `showWatermark`
- โ๏ธ `InvoicePrintPage.js` - ููู ูุง ูุณุชุฎุฏู `paperSize` ุฃู `showSerialBarcode`
>
### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
   - โ `defaultCopy` ูุง ููุณุชุฎุฏู ูู ุฃู ููุงู
   - โ `showWatermark` ูุง ููุณุชุฎุฏู ูู ุฃู ููุงู
   - โ `paperSize` ูุง ููุณุชุฎุฏู ูู ุฃู ููุงู
   - โ `showSerialBarcode` ูุง ููุณุชุฎุฏู ูู ุฃู ููุงู

2. **ุนุฏู ุงูุชุฒุงูู ูุน Backend:**
   - โ ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ููุท ูู `localStorage`
   - โ ูุง ููุฌุฏ API endpoint ูุญูุธ/ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฑุจุท ูุน Backend API:**
   ```javascript
   // ุฅุถุงูุฉ API endpoints:
   GET  /api/settings/printing
   PUT  /api/settings/printing
   ```

2. **ุชูููุฐ ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
   - ุงุณุชุฎุฏุงู `defaultCopy` ูู `RepairPrintPage` ูุงุฎุชูุงุฑ ุงููุณุฎุฉ ุงูุงูุชุฑุงุถูุฉ
   - ุงุณุชุฎุฏุงู `showWatermark` ูู ุฌููุน ุตูุญุงุช ุงูุทุจุงุนุฉ
   - ุงุณุชุฎุฏุงู `paperSize` ูู CSS ููุทุจุงุนุฉ
   - ุงุณุชุฎุฏุงู `showSerialBarcode` ูู `RepairPrintPage`

3. **ุฅุถุงูุฉ Print Preview:**
   - ูุนุงููุฉ ูุจุงุดุฑุฉ ููุชุบููุฑุงุช ูุจู ุงูุทุจุงุนุฉ
   - ุฅููุงููุฉ ุชุบููุฑ ุงูุฅุนุฏุงุฏุงุช ูู ุตูุญุฉ ุงููุนุงููุฉ

---

## 4๏ธโฃ ุชุจููุจ "ุฅูุตุงู ุงูุงุณุชูุงู" (Receipt Print Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุฅูุตุงูุงุช ุงูุงุณุชูุงู (ุงูุดุนุงุฑุ QR Codeุ ุงูุจุงุฑููุฏุ ุงูููุงูุดุ ุงูุดุฑูุท).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** Backend API (`/api/repairs/print-settings`)
- **ุงูุชุฎุฒูู:** `backend/config/print-settings.json`

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **API Endpoint:**
```javascript
// frontend/react-app/src/services/api.js
async getPrintSettings() {
  return this.request(`/repairs/print-settings`);
}

async updatePrintSettings(payload) {
  return this.request(`/repairs/print-settings`, {
    method: 'PUT',
    body: JSON.stringify(payload),
  });
}
```

#### 2. **Backend Route:**
```javascript
// backend/routes/repairs.js
router.get('/print-settings', getPrintSettings);
router.put('/print-settings', updatePrintSettings);
```

#### 3. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏููุง:**
- โ `RepairPrintPage.js` - ูุณุชุฎุฏู ุฌููุน ุงูุฅุนุฏุงุฏุงุช
- โ `RepairQRPrintPage.js` - ูุณุชุฎุฏู ุฅุนุฏุงุฏุงุช QR Code

#### 4. **ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
```javascript
// RepairPrintPage.js ูุณุชุฎุฏู:
- printSettings.title
- printSettings.showLogo
- printSettings.logoUrl
- printSettings.showQr
- printSettings.qrSize
- printSettings.showSerialBarcode
- printSettings.barcodeWidth
- printSettings.barcodeHeight
- printSettings.branchName
- printSettings.branchAddress
- printSettings.branchPhone
- printSettings.margins
- printSettings.terms
```

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ูุฌูุฏ Validation:**
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ `qrSize` (ูุฌุจ ุฃู ูููู ุจูู 50-300)
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ `barcodeWidth` ู `barcodeHeight`
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูููุงูุด

2. **ุนุฏู ูุฌูุฏ Preview:**
   - โ ูุง ุชูุฌุฏ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุชุบููุฑุงุช
   - โ ูุฌุจ ูุชุญ ุตูุญุฉ ุทุจุงุนุฉ ูุฑุคูุฉ ุงูุชุบููุฑุงุช

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฅุถุงูุฉ Validation:**
   ```javascript
   // ูู ReceiptPrintSettingsPage.js
   const validateSettings = (settings) => {
     if (settings.qrSize < 50 || settings.qrSize > 300) {
       return 'ุญุฌู QR Code ูุฌุจ ุฃู ูููู ุจูู 50 ู 300';
     }
     // ... ุงููุฒูุฏ ูู ุงูุชุญูู
   };
   ```

2. **ุฅุถุงูุฉ Print Preview:**
   - ูุนุงููุฉ ูุจุงุดุฑุฉ ูู ููุณ ุงูุตูุญุฉ
   - ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชุบููุฑ ุงูุฅุนุฏุงุฏุงุช

3. **ุฅุถุงูุฉ Templates:**
   - ููุงูุจ ุฌุงูุฒุฉ ููุฅูุตุงูุงุช
   - ุญูุธ ููุงูุจ ูุฎุตุตุฉ

---

## 5๏ธโฃ ุชุจููุจ "ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูููุงุชูุฑ" (Invoice Print Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูููุงุชูุฑ (ุงูุดุนุงุฑุ ุงูุฑุฃุณุ ุงูุฌุฏููุ ุงูุชุฐูููุ ุงูุฃููุงู).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** Backend API (`/api/repairs/print-settings` - `invoice` object)
- **ุงูุชุฎุฒูู:** `backend/config/print-settings.json` (nested in `invoice`)

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **API Endpoint:**
```javascript
// ููุณ API ูุซู Receipt Print Settings
async getPrintSettings() {
  return this.request(`/repairs/print-settings`);
  // Response: { ..., invoice: { ... } }
}
```

#### 2. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏููุง:**
- โ `InvoicePrintPage.js` - ูุณุชุฎุฏู ุฌููุน ุฅุนุฏุงุฏุงุช ุงูููุงุชูุฑ
- โ `InvoiceTemplatesPage.js` - ูุณุชุฎุฏู ุจุนุถ ุงูุฅุนุฏุงุฏุงุช

#### 3. **ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
```javascript
// InvoicePrintPage.js ูุณุชุฎุฏู:
- invoicePrint.title
- invoicePrint.showLogo
- invoicePrint.logoUrl
- invoicePrint.showHeader
- invoicePrint.headerText
- invoicePrint.showItemsTable
- invoicePrint.tableStyle
- invoicePrint.colors
- invoicePrint.margins
- invoicePrint.fontSize
// ... ูุงููุฒูุฏ
```

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุชุนููุฏ ุงูุฅุนุฏุงุฏุงุช:**
   - โ๏ธ ุนุฏุฏ ูุจูุฑ ูู ุงูุฅุนุฏุงุฏุงุช (50+ setting)
   - โ๏ธ ูุฏ ูููู ูุฑุจูุงู ูููุณุชุฎุฏููู

2. **ุนุฏู ูุฌูุฏ Validation:**
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูุฃููุงู (hex codes)
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูุฃุญุฌุงู (font sizes)
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูููุงูุด

3. **ุนุฏู ูุฌูุฏ Preview:**
   - โ ูุง ุชูุฌุฏ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุชุบููุฑุงุช
   - โ ูุฌุจ ูุชุญ ุตูุญุฉ ุทุจุงุนุฉ ูุฑุคูุฉ ุงูุชุบููุฑุงุช

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฅุถุงูุฉ Validation:**
   ```javascript
   // ูู InvoicePrintSettingsPage.js
   const validateColor = (color) => {
     return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color);
   };
   ```

2. **ุฅุถุงูุฉ Print Preview:**
   - ูุนุงููุฉ ูุจุงุดุฑุฉ ูู ููุณ ุงูุตูุญุฉ
   - ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชุบููุฑ ุงูุฅุนุฏุงุฏุงุช

3. **ุฅุถุงูุฉ Templates:**
   - ููุงูุจ ุฌุงูุฒุฉ ููููุงุชูุฑ (Modern, Classic, Minimal)
   - ุญูุธ ููุงูุจ ูุฎุตุตุฉ

4. **ุชุจุณูุท ุงููุงุฌูุฉ:**
   - ุชุฌููุน ุงูุฅุนุฏุงุฏุงุช ูู ุฃูุณุงู (Layout, Colors, Fonts)
   - ุฅุถุงูุฉ Accordion ููุชููู ุงูุณูู

---

## 6๏ธโฃ ุชุจููุจ "ุฅุนุฏุงุฏุงุช ุงููุฑุงุณูุฉ" (Messaging Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุงููุฑุงุณูุฉ (WhatsApp, Email, SMTP).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ๏ธ ุบูุฑ ูุณุชุฎุฏู ูุนููุงู
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** `localStorage` (via `SettingsContext`)
- **ุงูุชุฎุฒูู:** `fixzone_settings_v1` ูู localStorage

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ:**
```javascript
messaging: {
  whatsapp: {
    enabled: true,
    apiEnabled: false,
    apiUrl: '',
    apiToken: '',
    webEnabled: true,
    defaultMessage: '...'
  },
  email: {
    enabled: false,
    smtpHost: '',
    smtpPort: 587,
    smtpUser: '',
    smtpPassword: '',
    fromEmail: '',
    fromName: 'Fix Zone ERP',
    defaultSubject: '...',
    defaultTemplate: '...'
  }
}
```

#### 2. **ุงูุตูุญุงุช ุงูุชู ูุฏ ุชุณุชุฎุฏููุง:**
- โ ูุง ุชูุฌุฏ ุตูุญุงุช ุชุณุชุฎุฏู ูุฐู ุงูุฅุนุฏุงุฏุงุช ุญุงููุงู

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
   - โ ุงูุฅุนุฏุงุฏุงุช ููุฌูุฏุฉ ููู ูุง ุชูุณุชุฎุฏู ูู ุฃู ููุงู
   - โ ูุง ููุฌุฏ Backend API ูุฅุฑุณุงู ุงูุฑุณุงุฆู

2. **ุนุฏู ูุฌูุฏ Backend Integration:**
   - โ ูุง ููุฌุฏ API endpoint ูุฅุฑุณุงู WhatsApp
   - โ ูุง ููุฌุฏ API endpoint ูุฅุฑุณุงู Email
   - โ ูุง ููุฌุฏ SMTP configuration ูู Backend

3. **ุนุฏู ูุฌูุฏ Security:**
   - โ ูููุงุช ุงููุฑูุฑ ูุญููุธุฉ ูู `localStorage` (ุบูุฑ ุขูู)
   - โ ูุฌุจ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฑุจุท ูุน Backend API:**>
   ```javascript
   // ุฅุถุงูุฉ API endpoints:
   GET  /api/settings/messaging
   PUT  /api/settings/messaging
   POST /api/messaging/send-whatsapp
   POST /api/messaging/send-email
   ```

2. **ุชูููุฐ Backend Services:**
   - ุฅุถุงูุฉ WhatsApp API integration
   - ุฅุถุงูุฉ SMTP service
   - ุฅุถุงูุฉ Email templates

3. **ุฅุถุงูุฉ Security:**
   - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ูู Backend
   - ุงุณุชุฎุฏุงู Environment Variables ููู API Tokens

4. **ุฅุถุงูุฉ Test Functionality:**
   - ุฒุฑ "ุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู" ูู ุงููุงุฌูุฉ
   - ุฅุฑุณุงู ุฑุณุงูุฉ ุชุฌุฑูุจูุฉ ููุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

5. **ุฅุถุงูุฉ Message Templates:**
   - ููุงูุจ ุฌุงูุฒุฉ ููุฑุณุงุฆู
   - ูุชุบูุฑุงุช ุฏููุงููููุฉ ({customerName}, {invoiceId}, etc.)

---

## 7๏ธโฃ ุชุจููุจ "ุงููุญููุฉ ูุงููุบุฉ" (Locale Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุงููุบุฉ ูุงููุญููุฉ (RTL, Date Format).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ๏ธ ุฌุฒุฆูุงู ูุนูู
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** `localStorage` (via `SettingsContext`)
- **ุงูุชุฎุฒูู:** `fixzone_settings_v1` ูู localStorage

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ:**
```javascript
locale: {
  rtl: true,
  dateFormat: 'yyyy/MM/dd',
}
```

#### 2. **ุงูุงุณุชุฎุฏุงู ุงููุนูู:**
- โ `rtl` - ูุณุชุฎุฏู ูู `ThemeProvider` ู CSS classes
- โ๏ธ `dateFormat` - ูุง ููุณุชุฎุฏู ุจุดูู ููุญุฏ ูู ุฌููุน ุงูุตูุญุงุช

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ุงุณุชุฎุฏุงู dateFormat:**
   - โ ูู ุตูุญุฉ ุชุณุชุฎุฏู ุชูุณูู ุชุงุฑูุฎ ูุฎุชูู
   - โ ูุง ุชูุฌุฏ ุฏุงูุฉ ููุญุฏุฉ ูุชูุณูู ุงูุชุงุฑูุฎ

2. **ุนุฏู ุงูุชุฒุงูู ูุน Backend:**
   - โ ุงูุฅุนุฏุงุฏุงุช ูุญููุธุฉ ููุท ูู `localStorage`
   - โ ูุง ููุฌุฏ API endpoint ูุญูุธ/ุชุญููู ุฅุนุฏุงุฏุงุช ุงููุบุฉ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฅุถุงูุฉ formatDate Function:**
   ```javascript
   // ูู settings.js
   export function formatDate(date, settings) {
     const cfg = settings?.locale || defaultSettings.locale;
     const format = cfg.dateFormat || 'yyyy/MM/dd';
     // ุงุณุชุฎุฏุงู date-fns ุฃู moment.js
     return formatDate(date, format);
   }
   ```

2. **ุฑุจุท ูุน Backend API:**
   ```javascript
   // ุฅุถุงูุฉ API endpoints:
   GET  /api/settings/locale
   PUT  /api/settings/locale
   ```

3. **ุฅุถุงูุฉ Language Selection:**
   - ุงุฎุชูุงุฑ ุงููุบุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
   - ุชุบููุฑ ุงููุบุฉ ุฏููุงููููุงู

4. **ุฅุถุงูุฉ Timezone Settings:**
   - ุงุฎุชูุงุฑ ุงูููุทูุฉ ุงูุฒูููุฉ
   - ุนุฑุถ ุงูุฃููุงุช ุญุณุจ ุงูููุทูุฉ ุงูุฒูููุฉ

---

## 8๏ธโฃ ุชุจููุจ "ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ" (System Settings)

### ๐ ุงููุตู
ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ (Key-Value pairs).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** Backend API (`/api/systemsettings`)
- **ุงูุชุฎุฒูู:** ูุงุนุฏุฉ ุงูุจูุงูุงุช (`SystemSetting` table)

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **API Endpoints:**
```javascript
// frontend/react-app/src/services/api.js
async listSystemSettings() {
  return this.request('/systemsettings');
}

async getSystemSetting(key) {
  return this.request(`/systemsettings/${encodeURIComponent(key)}`);
}

async createSystemSetting(setting) {
  return this.request('/systemsettings', {
    method: 'POST',
    body: JSON.stringify(setting),
  });
}

async updateSystemSetting(key, setting) {
  return this.request(`/systemsettings/${encodeURIComponent(key)}`, {
    method: 'PUT',
    body: JSON.stringify(setting),
  });
}

async deleteSystemSetting(key) {
  return this.request(`/systemsettings/${encodeURIComponent(key)}`, {
    method: 'DELETE',
  });
}
```

#### 2. **Backend Routes:**
```javascript
// backend/routes/systemsettings.js
router.get('/', listSystemSettings);
router.get('/:key', getSystemSetting);
router.post('/', createSystemSetting);
router.put('/:key', updateSystemSetting);
router.delete('/:key', deleteSystemSetting);
```

#### 3. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏููุง:**
- โ `SettingsDashboard.js` - ุนุฑุถ ูุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช
- โ `SystemVariablesPage.js` - ุนุฑุถ ูุชุบูุฑุงุช ุงููุธุงู

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ูุฌูุฏ Validation:**
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูู Key (ูุฌุจ ุฃู ูููู unique)
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูู Value (ูุฌุจ ุฃู ูููู valid JSON)

2. **ุนุฏู ูุฌูุฏ Categories:**
   - โ ูุง ุชูุฌุฏ ูุฆุงุช ููุฅุนุฏุงุฏุงุช
   - โ ุตุนุจ ุงูุนุซูุฑ ุนูู ุฅุนุฏุงุฏ ูุนูู

3. **ุนุฏู ูุฌูุฏ Search:**
   - โ ูุง ุชูุฌุฏ ุฅููุงููุฉ ุงูุจุญุซ ูู ุงูุฅุนุฏุงุฏุงุช
   - โ ุตุนุจ ุงูุนุซูุฑ ุนูู ุฅุนุฏุงุฏ ูุนูู ุนูุฏ ูุฌูุฏ ุนุฏุฏ ูุจูุฑ

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฅุถุงูุฉ Validation:**
   ```javascript
   // ูู Backend
   const validateSystemSetting = (setting) => {
     if (!setting.key || setting.key.length > 100) {
       throw new Error('Key must be between 1 and 100 characters');
     }
     // ... ุงููุฒูุฏ ูู ุงูุชุญูู
   };
   ```

2. **ุฅุถุงูุฉ Categories:**
   - ุฅุถุงูุฉ ุญูู `category` ููุฅุนุฏุงุฏุงุช
   - ุชุตููุฉ ุงูุฅุนุฏุงุฏุงุช ุญุณุจ ุงููุฆุฉ

3. **ุฅุถุงูุฉ Search:**
   - ุฅููุงููุฉ ุงูุจุญุซ ูู ุงูู Key ูุงูู Value
   - ุชุตููุฉ ุณุฑูุนุฉ

4. **ุฅุถุงูุฉ Import/Export:**
   - ุชุตุฏูุฑ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุฅูู JSON
   - ุงุณุชูุฑุงุฏ ุฅุนุฏุงุฏุงุช ูู JSON

---

## 9๏ธโฃ ุชุจููุจ "ูุชุบูุฑุงุช ุงููุธุงู" (System Variables)

### ๐ ุงููุตู
ูุชุบูุฑุงุช ุงููุธุงู (Categories, Options, Values).

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ุตุญูุญ
- **ูุตุฏุฑ ุงูุจูุงูุงุช:** Backend API (`/api/systemvariables`)
- **ุงูุชุฎุฒูู:** ูุงุนุฏุฉ ุงูุจูุงูุงุช (`SystemVariable` table)

### ๐ ุงูุฃูุงูู ุงููุฑุชุจุทุฉ

#### 1. **API Endpoints:**
```javascript
// frontend/react-app/src/services/api.js
// (ูุฌุจ ุงูุชุญูู ูู ูุฌูุฏ ูุฐู ุงูู endpoints)
```

#### 2. **ุงูุตูุญุงุช ุงูุชู ุชุณุชุฎุฏููุง:**
- โ `SystemVariablesPage.js` - ุนุฑุถ ูุฅุฏุงุฑุฉ ุงููุชุบูุฑุงุช

### โ๏ธ ุงููุดุงูู ุงููุญุชููุฉ

1. **ุนุฏู ูุฌูุฏ Documentation:**
   - โ ูุง ููุฌุฏ ุชูุซูู ูุงุถุญ ูููููุฉ ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช
   - โ ูุง ููุฌุฏ ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

2. **ุนุฏู ูุฌูุฏ Validation:**
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงููุฆุงุช
   - โ ูุง ููุฌุฏ ุชุญูู ูู ุตุญุฉ ุงูุฎูุงุฑุงุช

### ๐ก ุงูุชุทููุฑุงุช ุงูููุชุฑุญุฉ

1. **ุฅุถุงูุฉ Documentation:**
   - ุชูุซูู ูู ูุชุบูุฑ ููุธููุชู
   - ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู

2. **ุฅุถุงูุฉ Validation:**
   - ุชุญูู ูู ุตุญุฉ ุงููุฆุงุช
   - ุชุญูู ูู ุตุญุฉ ุงูุฎูุงุฑุงุช

3. **ุฅุถุงูุฉ Search:**
   - ุฅููุงููุฉ ุงูุจุญุซ ูู ุงููุชุบูุฑุงุช
   - ุชุตููุฉ ุญุณุจ ุงููุฆุฉ

---

## ๐ ููุฎุต ุงูุชูููู

| ุงูุชุจููุจ | ุงูุญุงูุฉ | ุงูุงุณุชุฎุฏุงู ุงููุนูู | ุงูุชุฒุงูู ูุน Backend | ุงูุชูุตูุฉ |
|---------|--------|------------------|-------------------|---------|
| ุนุงู | โ | โ ุนุงูู | โ ูุง | ๐ด ุนุงุฌู |
| ุงูุนููุฉ | โ | โ ุนุงูู ุฌุฏุงู | โ ูุง | ๐ด ุนุงุฌู |
| ุงูุทุจุงุนุฉ | โ๏ธ | โ ููุฎูุถ | โ ูุง | ๐ก ูุชูุณุท |
| ุฅูุตุงู ุงูุงุณุชูุงู | โ | โ ุนุงูู | โ ูุนู | ๐ข ุฌูุฏ |
| ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูููุงุชูุฑ | โ | โ ุนุงูู | โ ูุนู | ๐ข ุฌูุฏ |
| ุฅุนุฏุงุฏุงุช ุงููุฑุงุณูุฉ | โ๏ธ | โ ุบูุฑ ูุณุชุฎุฏู | โ ูุง | ๐ก ูุชูุณุท |
| ุงููุญููุฉ ูุงููุบุฉ | โ๏ธ | โ๏ธ ุฌุฒุฆู | โ ูุง | ๐ก ูุชูุณุท |
| ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ | โ | โ ูุชูุณุท | โ ูุนู | ๐ข ุฌูุฏ |
| ูุชุบูุฑุงุช ุงููุธุงู | โ | โ ูุชูุณุท | โ ูุนู | ๐ข ุฌูุฏ |

---

## ๐ฏ ุงูุฃููููุงุช

### ๐ด ุนุงุฌู (High Priority)
1. **ุฑุจุท ุฅุนุฏุงุฏุงุช "ุนุงู" ู "ุงูุนููุฉ" ูุน Backend API**
   - ุชุฃุซูุฑ ูุจุงุดุฑ ุนูู ุฌููุน ุตูุญุงุช ุงููุธุงู
   - ุถุฑูุฑู ููุชุฒุงูู ุจูู ุงูุฃุฌูุฒุฉ

2. **ุชุญุณูู ุงุณุชุฎุฏุงู ุฅุนุฏุงุฏุงุช "ุงูุทุจุงุนุฉ"**
   - ุฑุจุท ุงูุฅุนุฏุงุฏุงุช ุจุตูุญุงุช ุงูุทุจุงุนุฉ ุงููุนููุฉ
   - ุชูููุฐ ุงูุงุณุชุฎุฏุงู ุงููุนูู

### ๐ก ูุชูุณุท (Medium Priority)
3. **ุชูููุฐ ุฅุนุฏุงุฏุงุช "ุงููุฑุงุณูุฉ"**
   - ุฅุถุงูุฉ Backend integration
   - ุฅุถุงูุฉ Security

4. **ุชุญุณูู ุฅุนุฏุงุฏุงุช "ุงููุญููุฉ ูุงููุบุฉ"**
   - ุฅุถุงูุฉ formatDate function
   - ุฑุจุท ูุน Backend API

### ๐ข ููุฎูุถ (Low Priority)
5. **ุชุญุณูู ุฅุนุฏุงุฏุงุช "ุฅูุตุงู ุงูุงุณุชูุงู" ู "ุฅุนุฏุงุฏุงุช ุทุจุงุนุฉ ุงูููุงุชูุฑ"**
   - ุฅุถุงูุฉ Validation
   - ุฅุถุงูุฉ Preview

6. **ุชุญุณูู "ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ" ู "ูุชุบูุฑุงุช ุงููุธุงู"**
   - ุฅุถุงูุฉ Categories
   - ุฅุถุงูุฉ Search

---

## ๐ ุงูุฎูุงุตุฉ

### โ ุงูููุงุท ุงูุฅูุฌุงุจูุฉ
- ูุนุธู ุงูุชุจููุจุงุช ุชุนูู ุจุดูู ุตุญูุญ
- ุงูุชุจููุจุงุช ุงููุฑุชุจุทุฉ ุจุงูุทุจุงุนุฉ ูุฑุชุจุทุฉ ุจุดูู ุฌูุฏ ูุน Backend
- ุงููุงุฌูุฉ ููุธูุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู

### โ๏ธ ุงูููุงุท ุงูุณูุจูุฉ
- ุจุนุถ ุงูุชุจููุจุงุช ูุง ุชูุณุชุฎุฏู ูุนููุงู ูู ุงููุธุงู
- ุจุนุถ ุงูุชุจููุจุงุช ุบูุฑ ูุฑุชุจุทุฉ ูุน Backend API
- ุนุฏู ูุฌูุฏ Validation ูู ุจุนุถ ุงูุฃูุงูู

### ๐ ุงูุชูุตูุงุช ุงูุนุงูุฉ
1. **ุฑุจุท ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูุน Backend API** ูุถูุงู ุงูุชุฒุงูู
2. **ุฅุถุงูุฉ Validation** ูู ุฌููุน ุงูููุงุฐุฌ
3. **ุฅุถุงูุฉ Preview** ููุฅุนุฏุงุฏุงุช ุงููุฑุชุจุทุฉ ุจุงูุทุจุงุนุฉ
4. **ุชูุซูู** ุฌููุน ุงูุฅุนุฏุงุฏุงุช ููุธุงุฆููุง
5. **ุงุฎุชุจุงุฑ** ุฌููุน ุงูุฅุนุฏุงุฏุงุช ููุชุฃูุฏ ูู ุนูููุง ุจุดูู ุตุญูุญ

---

**ุชู ุฅุนุฏุงุฏ ุงูุชูุฑูุฑ ุจูุงุณุทุฉ:** AI Assistant  
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-28

