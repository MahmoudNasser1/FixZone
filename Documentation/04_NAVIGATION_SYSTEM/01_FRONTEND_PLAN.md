# ğŸ¨ Ø®Ø·Ø© ØªØ·ÙˆÙŠØ± Frontend - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ø¨Ø§Ø±Ø§Øª

> **Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„:** ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (UI/UX)

---

## âœ… Phase 4: Admin Portal Enhancement - ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²

**Ù…Ø§ ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡ ÙÙŠ Phase 4:**

1. **Sidebar.js** âœ…
   - Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ¯Ø±Ø¬Ø© Ø¨Ù€ `bg-card`
   - ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· Ù„ØªØ¯Ø¹Ù… `text-foreground` Ùˆ `text-muted-foreground`
   - ØªØ­Ø³ÙŠÙ† hover states Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `bg-accent`
   - Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ Dark Mode

2. **Topbar.js** âœ…
   - Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ Dark Mode ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯
   - ØªØ­Ø¯ÙŠØ« Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¨Ø­Ø«
   - ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© (Dropdowns)
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… `bg-background`, `border-border`, `text-foreground`

3. **Dashboard.js** âœ…
   - ØªØ¹Ø±ÙŠØ¨ Ø§Ù„Ù†ØµÙˆØµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
   - Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø«Ø§Ø¨ØªØ© Ø¨Ù€ Tailwind classes
   - Ø¯Ø¹Ù… RTL ÙÙŠ Ø§Ù„ØªØ®Ø·ÙŠØ·

4. **UsersPage.js** âœ…
   - Ø¥Ø¹Ø§Ø¯Ø© ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
   - ØªØ­Ø³ÙŠÙ† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„ÙÙ„Ø§ØªØ±
   - Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ Dark Mode

---

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØºØ·ÙŠ Ø¬Ù…ÙŠØ¹ Ø¬ÙˆØ§Ù†Ø¨ ØªØ·ÙˆÙŠØ± Frontend Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ø¨Ø§Ø±Ø§ØªØŒ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰:
- âœ… **Sidebar** - Ø´Ø±ÙŠØ· Ø¬Ø§Ù†Ø¨ÙŠ Ù…Ø­Ø³Ù‘Ù† (ØªÙ… ØªØ­Ø¯ÙŠØ« UI ÙÙŠ Phase 4)
- âœ… **Topbar** - Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ù…Ø­Ø³Ù‘Ù† (ØªÙ… ØªØ­Ø¯ÙŠØ« UI ÙÙŠ Phase 4)
- âš ï¸ **Headers** - Ø±Ø¤ÙˆØ³ ØµÙØ­Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø© (Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±)
- âš ï¸ **UI/UX** - ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ù„Ø£Ø¯Ø§Ø¡ØŒ Ø§Ù„Ø¨Ø­Ø«ØŒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª)
- âœ… **Responsive** - ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ (Ù…ÙˆØ¬ÙˆØ¯)

---

## 1ï¸âƒ£ ØªØ·ÙˆÙŠØ± Sidebar

### **Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:**
```javascript
// frontend/react-app/src/components/layout/Sidebar.js
- âœ… Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙŠØ¹Ù…Ù„
- âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« UI Ù„Ø¯Ø¹Ù… Dark Mode (bg-card, text-foreground, text-muted-foreground)
- âœ… ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… bg-accent Ù„Ù„Ù€ hover states
- âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø¯ÙˆØ¯ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… border-border
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ (React.memo, useMemo)
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
- âš ï¸ ÙŠØ­ØªØ§Ø¬ Ø¥Ø¶Ø§ÙØ© Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ÙŠ
```

### **Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**

#### **1.1 ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡:**
```javascript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… React.memo Ùˆ useMemo
import React, { useState, useMemo, memo } from 'react';

const Sidebar = memo(() => {
  // Memoize navigation items based on user permissions
  const navItems = useMemo(() => {
    return filterNavItemsByPermissions(allNavItems, userPermissions);
  }, [userPermissions]);

  // Memoize active route check
  const isActive = useMemo(() => {
    return location.pathname === item.href;
  }, [location.pathname, item.href]);

  return (
    // Sidebar content
  );
});
```

#### **1.2 ØªØ­Ø³ÙŠÙ† UI/UX:**
```javascript
// âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙ…ÙŠÙ… - ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¢Ù†:
// - bg-card Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† bg-gradient
// - text-foreground Ùˆ text-muted-foreground
// - bg-accent Ù„Ù„Ù€ hover states
// - border-border Ù„Ù„Ø­Ø¯ÙˆØ¯

// Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
const Sidebar = () => {
  return (
    <aside className={cn(
      "flex-shrink-0 bg-card text-card-foreground",
      "flex flex-col transition-all duration-300",
      "ease-in-out border-l border-border shadow-xl",
      isSidebarOpen ? "w-72" : "w-16"
    )}>
      {/* Header with logo */}
      <div className="h-16 flex items-center justify-center 
                      border-b border-border 
                      bg-card/50 backdrop-blur-sm">
        {/* Logo and brand - ÙŠØ³ØªØ®Ø¯Ù… text-foreground */}
      </div>

      {/* Navigation with smooth scrolling */}
      <nav className="flex-1 overflow-y-auto py-4 px-2 
                      scrollbar-thin scrollbar-thumb-gray-600 
                      scrollbar-track-transparent
                      hover:scrollbar-thumb-gray-500">
        {/* Navigation items - ÙŠØ³ØªØ®Ø¯Ù… hover:bg-accent */}
      </nav>

      {/* Footer with user info */}
      <div className="p-4 border-t border-border 
                      bg-muted/30">
        {/* User profile */}
      </div>
    </aside>
  );
};
```

#### **1.3 Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:**
```javascript
// utils/navigationPermissions.js
export const filterNavItemsByPermissions = (navItems, userPermissions) => {
  return navItems.map(section => ({
    ...section,
    items: section.items
      .map(item => {
        // Check if item requires permission
        if (item.permission && !hasPermission(userPermissions, item.permission)) {
          return null;
        }
        
        // Filter sub-items
        if (item.subItems) {
          item.subItems = item.subItems.filter(subItem => {
            if (subItem.permission) {
              return hasPermission(userPermissions, subItem.permission);
            }
            return true;
          });
        }
        
        return item;
      })
      .filter(Boolean)
  })).filter(section => section.items.length > 0);
};

// Helper function
const hasPermission = (userPermissions, requiredPermission) => {
  if (!requiredPermission) return true;
  if (userPermissions.includes('*')) return true; // Admin
  return userPermissions.includes(requiredPermission);
};
```

#### **1.4 Badge System Ù…Ø­Ø³Ù‘Ù†:**
```javascript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙÙˆØ±ÙŠØ©
const useNavigationStats = () => {
  const [stats, setStats] = useState({});
  
  useEffect(() => {
    const fetchStats = async () => {
      try {
        const response = await api.get('/api/navigation/stats');
        setStats(response.data);
      } catch (error) {
        console.error('Failed to fetch navigation stats:', error);
      }
    };
    
    fetchStats();
    // Poll every 30 seconds
    const interval = setInterval(fetchStats, 30000);
    return () => clearInterval(interval);
  }, []);
  
  return stats;
};

// Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Sidebar
const Sidebar = () => {
  const stats = useNavigationStats();
  
  return (
    // Use stats for badges
    {item.badge && (
      <Badge 
        variant={getBadgeVariant(item.badge)}
        size="sm"
        className="mr-2 flex-shrink-0 animate-pulse"
      >
        {stats[item.badgeKey] || item.badge}
      </Badge>
    )}
  );
};
```

#### **1.5 Search Ø¯Ø§Ø®Ù„ Sidebar:**
```javascript
// Ø¥Ø¶Ø§ÙØ© Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹ Ø¯Ø§Ø®Ù„ Sidebar
const Sidebar = () => {
  const [searchQuery, setSearchQuery] = useState('');
  
  const filteredNavItems = useMemo(() => {
    if (!searchQuery) return navItems;
    
    return navItems.map(section => ({
      ...section,
      items: section.items.filter(item => {
        const matchesLabel = item.label.toLowerCase().includes(searchQuery.toLowerCase());
        const matchesSubItems = item.subItems?.some(subItem => 
          subItem.label.toLowerCase().includes(searchQuery.toLowerCase())
        );
        return matchesLabel || matchesSubItems;
      })
    })).filter(section => section.items.length > 0);
  }, [searchQuery, navItems]);
  
  return (
    <aside>
      {/* Search input */}
      {isSidebarOpen && (
        <div className="px-3 py-2 border-b border-gray-700/50">
          <div className="relative">
            <Search className="absolute right-3 top-1/2 transform -translate-y-1/2 
                              text-gray-400 w-4 h-4" />
            <Input
              type="text"
              placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className="pr-10 bg-gray-800/50 border-gray-700 text-white 
                         placeholder-gray-400"
            />
          </div>
        </div>
      )}
      
      {/* Filtered navigation */}
      <nav>
        {filteredNavItems.map(section => (
          // Render sections
        ))}
      </nav>
    </aside>
  );
};
```

---

## 2ï¸âƒ£ ØªØ·ÙˆÙŠØ± Topbar

### **Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ:**
```javascript
// frontend/react-app/src/components/layout/Topbar.js
- âœ… Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙŠØ¹Ù…Ù„
- âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« UI Ù„Ø¯Ø¹Ù… Dark Mode (bg-background, border-border)
- âœ… ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… text-foreground Ùˆ text-muted-foreground
- âœ… ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… bg-accent Ù„Ù„Ù€ hover states
- âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ø¯Ø¹Ù… Dark Mode
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø¨Ø­Ø« (Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¨Ø³ÙŠØ·)
- âš ï¸ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (APIs Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©)
```

### **Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**

#### **2.1 Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…:**
```javascript
// components/search/GlobalSearch.js
import { useState, useCallback, useMemo } from 'react';
import { useNavigate } from 'react-router-dom';
import { Search, X, Clock, TrendingUp } from 'lucide-react';

const GlobalSearch = () => {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState([]);
  const [isOpen, setIsOpen] = useState(false);
  const [recentSearches, setRecentSearches] = useState([]);
  const navigate = useNavigate();
  
  // Debounced search
  const debouncedSearch = useMemo(
    () => debounce(async (searchQuery) => {
      if (!searchQuery.trim()) {
        setResults([]);
        return;
      }
      
      try {
        const response = await api.get('/api/search/global', {
          params: { q: searchQuery, limit: 10 }
        });
        setResults(response.data);
      } catch (error) {
        console.error('Search failed:', error);
      }
    }, 300),
    []
  );
  
  useEffect(() => {
    debouncedSearch(query);
  }, [query, debouncedSearch]);
  
  const handleSelect = (result) => {
    // Save to recent searches
    const newRecent = [result, ...recentSearches.filter(r => r.id !== result.id)].slice(0, 5);
    setRecentSearches(newRecent);
    localStorage.setItem('recentSearches', JSON.stringify(newRecent));
    
    // Navigate
    navigate(result.href);
    setIsOpen(false);
    setQuery('');
  };
  
  return (
    <div className="relative flex-1 max-w-2xl mx-4">
      <form onSubmit={(e) => { e.preventDefault(); handleSelect(results[0]); }}>
        <div className="relative">
          <Search className="absolute right-3 top-1/2 transform -translate-y-1/2 
                            text-gray-400 w-5 h-5" />
          <Input
            type="text"
            placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ØŒ Ø§Ù„Ù‚Ø·Ø¹..."
            value={query}
            onChange={(e) => setQuery(e.target.value)}
            onFocus={() => setIsOpen(true)}
            className="pr-10 pl-10 bg-gray-50 dark:bg-gray-700 
                       border-gray-200 dark:border-gray-600
                       focus:ring-2 focus:ring-blue-500"
          />
          {query && (
            <button
              type="button"
              onClick={() => { setQuery(''); setResults([]); }}
              className="absolute left-3 top-1/2 transform -translate-y-1/2"
            >
              <X className="w-4 h-4 text-gray-400 hover:text-gray-600" />
            </button>
          )}
        </div>
      </form>
      
      {/* Search Results Dropdown */}
      {isOpen && (query || recentSearches.length > 0) && (
        <div className="absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 
                        rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 
                        max-h-96 overflow-y-auto z-50">
          {query && results.length > 0 && (
            <div className="p-2">
              <div className="px-3 py-2 text-xs font-semibold text-gray-500 uppercase">
                Ø§Ù„Ù†ØªØ§Ø¦Ø¬
              </div>
              {results.map(result => (
                <button
                  key={result.id}
                  onClick={() => handleSelect(result)}
                  className="w-full flex items-center space-x-3 space-x-reverse 
                             px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 
                             transition-colors text-right"
                >
                  <result.icon className="w-5 h-5 text-gray-400 flex-shrink-0" />
                  <div className="flex-1 min-w-0">
                    <div className="text-sm font-medium text-gray-900 dark:text-white">
                      {result.title}
                    </div>
                    <div className="text-xs text-gray-500 truncate">
                      {result.subtitle}
                    </div>
                  </div>
                  <div className="text-xs text-gray-400">
                    {result.type}
                  </div>
                </button>
              ))}
            </div>
          )}
          
          {!query && recentSearches.length > 0 && (
            <div className="p-2">
              <div className="px-3 py-2 text-xs font-semibold text-gray-500 uppercase 
                              flex items-center">
                <Clock className="w-3 h-3 ml-2" />
                Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£Ø®ÙŠØ±
              </div>
              {recentSearches.map(search => (
                <button
                  key={search.id}
                  onClick={() => handleSelect(search)}
                  className="w-full flex items-center space-x-3 space-x-reverse 
                             px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 
                             transition-colors text-right"
                >
                  {/* Render recent search */}
                </button>
              ))}
            </div>
          )}
          
          {query && results.length === 0 && (
            <div className="p-8 text-center text-gray-500">
              Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬
            </div>
          )}
        </div>
      )}
    </div>
  );
};
```

#### **2.2 Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø©:**
```javascript
// components/notifications/NotificationCenter.js
import { useState, useEffect } from 'react';
import { Bell, Check, X } from 'lucide-react';
import { useNotifications } from '../../hooks/useNotifications';

const NotificationCenter = () => {
  const { notifications, unreadCount, markAsRead, markAllAsRead } = useNotifications();
  const [isOpen, setIsOpen] = useState(false);
  
  return (
    <div className="relative">
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 
                   transition-colors"
      >
        <Bell className="w-5 h-5" />
        {unreadCount > 0 && (
          <span className="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white 
                           text-xs font-bold rounded-full flex items-center justify-center 
                           border-2 border-white dark:border-gray-800">
            {unreadCount > 9 ? '9+' : unreadCount}
          </span>
        )}
      </button>
      
      {isOpen && (
        <>
          <div className="fixed inset-0 z-10" onClick={() => setIsOpen(false)} />
          <div className="absolute left-0 mt-2 w-96 bg-white dark:bg-gray-800 
                          rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 
                          z-20 max-h-[600px] flex flex-col">
            {/* Header */}
            <div className="p-4 border-b border-gray-200 dark:border-gray-700 
                            flex items-center justify-between">
              <h3 className="font-bold text-gray-900 dark:text-white">
                Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
              </h3>
              <div className="flex items-center space-x-2 space-x-reverse">
                {unreadCount > 0 && (
                  <button
                    onClick={markAllAsRead}
                    className="text-xs text-blue-600 hover:text-blue-800"
                  >
                    ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡
                  </button>
                )}
                <button
                  onClick={() => setIsOpen(false)}
                  className="p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700"
                >
                  <X className="w-4 h-4" />
                </button>
              </div>
            </div>
            
            {/* Notifications List */}
            <div className="flex-1 overflow-y-auto">
              {notifications.length === 0 ? (
                <div className="p-8 text-center text-gray-500">
                  Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
                </div>
              ) : (
                notifications.map(notification => (
                  <div
                    key={notification.id}
                    className={cn(
                      "p-4 border-b border-gray-100 dark:border-gray-700",
                      "hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",
                      "cursor-pointer",
                      !notification.read && "bg-blue-50 dark:bg-blue-900/20"
                    )}
                    onClick={() => {
                      markAsRead(notification.id);
                      if (notification.href) {
                        navigate(notification.href);
                        setIsOpen(false);
                      }
                    }}
                  >
                    <div className="flex items-start space-x-3 space-x-reverse">
                      <div className={cn(
                        "p-2 rounded-lg flex-shrink-0",
                        getNotificationIconBg(notification.type)
                      )}>
                        {getNotificationIcon(notification.type)}
                      </div>
                      <div className="flex-1 min-w-0">
                        <div className="flex items-start justify-between">
                          <p className="text-sm font-medium text-gray-900 dark:text-white">
                            {notification.title}
                          </p>
                          {!notification.read && (
                            <div className="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1" />
                          )}
                        </div>
                        <p className="text-sm text-gray-500 dark:text-gray-400 mt-1">
                          {notification.message}
                        </p>
                        <p className="text-xs text-gray-400 mt-1">
                          {formatTime(notification.createdAt)}
                        </p>
                      </div>
                    </div>
                  </div>
                ))
              )}
            </div>
            
            {/* Footer */}
            <div className="p-3 border-t border-gray-200 dark:border-gray-700">
              <button
                onClick={() => {
                  navigate('/notifications');
                  setIsOpen(false);
                }}
                className="w-full text-center text-sm text-blue-600 hover:text-blue-800 
                           font-medium"
              >
                Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
              </button>
            </div>
          </div>
        </>
      )}
    </div>
  );
};
```

#### **2.3 Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙˆØ±ÙŠØ©:**
```javascript
// hooks/useQuickStats.js
import { useState, useEffect } from 'react';
import api from '../services/api';

export const useQuickStats = () => {
  const [stats, setStats] = useState({
    pendingRepairs: 0,
    newMessages: 0,
    lowStock: 0,
    todayRevenue: 0,
    loading: true
  });
  
  useEffect(() => {
    const fetchStats = async () => {
      try {
        const response = await api.get('/api/dashboard/quick-stats');
        setStats({
          ...response.data,
          loading: false
        });
      } catch (error) {
        console.error('Failed to fetch quick stats:', error);
        setStats(prev => ({ ...prev, loading: false }));
      }
    };
    
    fetchStats();
    // Poll every 30 seconds
    const interval = setInterval(fetchStats, 30000);
    
    return () => clearInterval(interval);
  }, []);
  
  return stats;
};

// Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Topbar
const Topbar = () => {
  const stats = useQuickStats();
  
  return (
    <header>
      {/* Quick Stats */}
      <div className="hidden lg:flex items-center space-x-6 space-x-reverse">
        <StatCard
          icon={Wrench}
          value={stats.pendingRepairs}
          label="Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©"
          color="orange"
          href="/repairs?status=pending"
        />
        <StatCard
          icon={TrendingUp}
          value={`${formatCurrency(stats.todayRevenue)} Ø¬Ù†ÙŠØ©`}
          label="Ø§Ù„ÙŠÙˆÙ…"
          color="green"
          href="/reports/daily"
        />
        <StatCard
          icon={Package}
          value={stats.lowStock}
          label="Ù†Ù‚Øµ Ù…Ø®Ø²ÙˆÙ†"
          color="red"
          href="/inventory/stock-alerts"
        />
      </div>
    </header>
  );
};
```

---

## 3ï¸âƒ£ ØªØ·ÙˆÙŠØ± Headers (Customer & Technician)

### **3.1 Customer Header Ù…Ø­Ø³Ù‘Ù†:**
```javascript
// components/customer/CustomerHeader.js
import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { Bell, User, Settings, LogOut, ChevronDown } from 'lucide-react';
import useAuthStore from '../../stores/authStore';
import { useNotifications } from '../../hooks/useNotifications';

const CustomerHeader = ({ user }) => {
  const navigate = useNavigate();
  const logout = useAuthStore((state) => state.logout);
  const { notifications, unreadCount } = useNotifications();
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);
  
  return (
    <header
      className="shadow-lg relative z-10 sticky top-0"
      style={{
        background: 'linear-gradient(135deg, #053887 0%, #0a4da3 100%)'
      }}
    >
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <div className="flex items-center justify-between">
          {/* Logo & Welcome */}
          <div className="flex items-center gap-4">
            <img
              src="/logo.png"
              alt="FixZone"
              className="h-10 w-auto object-contain"
            />
            <div className="text-white">
              <h1 className="text-xl font-bold">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {user?.name || 'Ø¹Ù…ÙŠÙ„'}</h1>
              <p className="text-sm opacity-90">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„</p>
            </div>
          </div>
          
          {/* Actions */}
          <div className="flex items-center gap-3">
            {/* Notifications */}
            <NotificationButton
              notifications={notifications}
              unreadCount={unreadCount}
              isOpen={isNotificationsOpen}
              onToggle={() => setIsNotificationsOpen(!isNotificationsOpen)}
            />
            
            {/* User Menu */}
            <UserMenu
              user={user}
              isOpen={isMenuOpen}
              onToggle={() => setIsMenuOpen(!isMenuOpen)}
              onLogout={logout}
            />
          </div>
        </div>
      </div>
    </header>
  );
};
```

### **3.2 Technician Header Ù…Ø­Ø³Ù‘Ù†:**
```javascript
// components/technician/TechnicianHeader.js
import { useState, useEffect } from 'react';
import { Bell, User, Settings, LogOut, CheckCircle, Wrench, Circle } from 'lucide-react';
import useAuthStore from '../../stores/authStore';
import { useNotifications } from '../../hooks/useNotifications';
import { useTechnicianStatus } from '../../hooks/useTechnicianStatus';

const TechnicianHeader = ({ user }) => {
  const { status, updateStatus } = useTechnicianStatus();
  const { notifications, unreadCount } = useNotifications();
  
  const statusConfig = {
    available: { label: 'Ù…ØªØ§Ø­', color: '#10B981', icon: CheckCircle },
    busy: { label: 'Ù…Ø´ØºÙˆÙ„', color: '#EF4444', icon: Wrench },
    offline: { label: 'ØºÙŠØ± Ù…ØªØµÙ„', color: '#6B7280', icon: Circle }
  };
  
  return (
    <header className="bg-white shadow-md sticky top-0 z-50 border-b border-gray-200">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-20">
          {/* Logo & Brand */}
          <div className="flex items-center gap-3">
            <img src="/logo.png" alt="FixZone Logo" className="h-10 w-auto" />
            <div className="hidden md:block">
              <h1 className="text-xl font-bold text-gray-900">FixZone</h1>
              <p className="text-xs text-gray-500 font-medium">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ÙÙ†ÙŠÙŠÙ†</p>
            </div>
          </div>
          
          {/* Actions */}
          <div className="flex items-center gap-4">
            {/* Status Toggle */}
            <StatusToggle
              status={status}
              statusConfig={statusConfig}
              onStatusChange={updateStatus}
            />
            
            {/* Notifications */}
            <NotificationButton
              notifications={notifications}
              unreadCount={unreadCount}
            />
            
            {/* User Menu */}
            <UserMenu user={user} />
          </div>
        </div>
      </div>
    </header>
  );
};
```

---

## 4ï¸âƒ£ ØªØ­Ø³ÙŠÙ†Ø§Øª UI/UX Ø¹Ø§Ù…Ø©

### **4.1 Animations Ø³Ù„Ø³Ø©:**
```javascript
// utils/animations.js
export const fadeIn = {
  initial: { opacity: 0 },
  animate: { opacity: 1 },
  exit: { opacity: 0 },
  transition: { duration: 0.2 }
};

export const slideIn = {
  initial: { x: -20, opacity: 0 },
  animate: { x: 0, opacity: 1 },
  exit: { x: -20, opacity: 0 },
  transition: { duration: 0.3 }
};

// Ø§Ø³ØªØ®Ø¯Ø§Ù… framer-motion
import { motion, AnimatePresence } from 'framer-motion';

const Sidebar = () => {
  return (
    <AnimatePresence>
      {isSidebarOpen && (
        <motion.aside
          initial="initial"
          animate="animate"
          exit="exit"
          variants={slideIn}
        >
          {/* Content */}
        </motion.aside>
      )}
    </AnimatePresence>
  );
};
```

### **4.2 Loading States:**
```javascript
// components/ui/LoadingSpinner.js
const LoadingSpinner = ({ size = 'md' }) => {
  const sizeClasses = {
    sm: 'w-4 h-4',
    md: 'w-6 h-6',
    lg: 'w-8 h-8'
  };
  
  return (
    <div className="flex items-center justify-center">
      <div className={cn(
        "animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",
        sizeClasses[size]
      )} />
    </div>
  );
};
```

### **4.3 Error States:**
```javascript
// components/ui/ErrorBoundary.js
class NavigationErrorBoundary extends React.Component {
  state = { hasError: false, error: null };
  
  static getDerivedStateFromError(error) {
    return { hasError: true, error };
  }
  
  componentDidCatch(error, errorInfo) {
    console.error('Navigation Error:', error, errorInfo);
    // Log to error tracking service
  }
  
  render() {
    if (this.state.hasError) {
      return (
        <div className="p-4 bg-red-50 border border-red-200 rounded-lg">
          <p className="text-red-800">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙ†Ù‚Ù„</p>
          <button onClick={() => window.location.reload()}>
            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
          </button>
        </div>
      );
    }
    
    return this.props.children;
  }
}
```

---

## 5ï¸âƒ£ Responsive Design

### **5.1 Mobile Optimization:**
```javascript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… Tailwind responsive classes
const Sidebar = () => {
  return (
    <aside className={cn(
      "fixed inset-y-0 left-0 z-50",
      "transform transition-transform duration-300 ease-in-out",
      "lg:relative lg:translate-x-0",
      isSidebarOpen ? "translate-x-0" : "-translate-x-full lg:translate-x-0"
    )}>
      {/* Content */}
    </aside>
  );
};

// Mobile overlay
{isSidebarOpen && (
  <div
    className="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden"
    onClick={toggleSidebar}
  />
)}
```

### **5.2 Touch Gestures:**
```javascript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… react-swipeable
import { useSwipeable } from 'react-swipeable';

const MobileSidebar = () => {
  const handlers = useSwipeable({
    onSwipedRight: () => toggleSidebar(true),
    onSwipedLeft: () => toggleSidebar(false),
    trackMouse: true
  });
  
  return (
    <div {...handlers}>
      {/* Sidebar */}
    </div>
  );
};
```

---

## 6ï¸âƒ£ Accessibility (A11y)

### **6.1 Keyboard Navigation:**
```javascript
// Ø¯Ø¹Ù… Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ø§Ù„ÙƒÙŠØ¨ÙˆØ±Ø¯
const Sidebar = () => {
  useEffect(() => {
    const handleKeyDown = (e) => {
      // Ctrl/Cmd + B to toggle sidebar
      if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
        e.preventDefault();
        toggleSidebar();
      }
    };
    
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, []);
  
  return (
    <aside role="navigation" aria-label="Main navigation">
      {/* Content */}
    </aside>
  );
};
```

### **6.2 ARIA Labels:**
```javascript
// Ø¥Ø¶Ø§ÙØ© ARIA labels
<button
  aria-label="Toggle sidebar"
  aria-expanded={isSidebarOpen}
  onClick={toggleSidebar}
>
  <Menu />
</button>

<nav aria-label="Main navigation">
  {/* Navigation items */}
</nav>
```

---

## 7ï¸âƒ£ Performance Optimization

### **7.1 Code Splitting:**
```javascript
// Lazy load components
const Sidebar = lazy(() => import('./components/layout/Sidebar'));
const Topbar = lazy(() => import('./components/layout/Topbar'));

// ÙÙŠ App.js
<Suspense fallback={<LoadingSpinner />}>
  <Sidebar />
  <Topbar />
</Suspense>
```

### **7.2 Virtual Scrolling:**
```javascript
// Ø§Ø³ØªØ®Ø¯Ø§Ù… react-window Ù„Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø·ÙˆÙŠÙ„Ø©
import { FixedSizeList } from 'react-window';

const LongNavList = ({ items }) => {
  const Row = ({ index, style }) => (
    <div style={style}>
      <NavItem item={items[index]} />
    </div>
  );
  
  return (
    <FixedSizeList
      height={600}
      itemCount={items.length}
      itemSize={50}
      width="100%"
    >
      {Row}
    </FixedSizeList>
  );
};
```

---

## ğŸ“ Checklist Ø§Ù„ØªÙ†ÙÙŠØ°

### **Sidebar:**
- [ ] ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ (React.memo, useMemo)
- [ ] ØªØ­Ø³ÙŠÙ† UI/UX
- [ ] Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
- [ ] Badge System Ù…Ø­Ø³Ù‘Ù†
- [ ] Search Ø¯Ø§Ø®Ù„ Sidebar
- [ ] Responsive Design
- [ ] Accessibility

### **Topbar:**
- [ ] Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…
- [ ] Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø©
- [ ] Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙÙˆØ±ÙŠØ©
- [ ] Quick Actions
- [ ] User Menu Ù…Ø­Ø³Ù‘Ù†
- [ ] Responsive Design

### **Headers:**
- [ ] Customer Header Ù…Ø­Ø³Ù‘Ù†
- [ ] Technician Header Ù…Ø­Ø³Ù‘Ù†
- [ ] Status Management
- [ ] Notifications Integration

### **Ø¹Ø§Ù…:**
- [ ] Animations Ø³Ù„Ø³Ø©
- [ ] Loading States
- [ ] Error Handling
- [ ] Performance Optimization
- [ ] Accessibility (A11y)
- [ ] Testing

---

**Ø§Ù„ØªØ§Ù„ÙŠ:** [Backend API Plan](./02_BACKEND_PLAN.md)

