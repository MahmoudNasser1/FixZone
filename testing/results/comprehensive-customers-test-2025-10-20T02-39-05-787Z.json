{
  "startTime": "2025-10-20T02:39:04.728Z",
  "endTime": "2025-10-20T02:39:05.787Z",
  "summary": {
    "total": 20,
    "passed": 17,
    "failed": 3,
    "skipped": 0,
    "errors": [
      {
        "testName": "GET /api/customers/:id - Get customer by ID",
        "error": "Customer data mismatch"
      },
      {
        "testName": "POST /api/customers - Validation (duplicate phone)",
        "error": "Expected 400/409 for duplicate phone, got 201"
      },
      {
        "testName": "Input validation test",
        "error": "Input validation failed for: {\"name\":\"Test\",\"phone\":\"invalid-phone\"}"
      }
    ]
  },
  "modules": {
    "backend": {
      "passed": 6,
      "failed": 2,
      "tests": [
        {
          "name": "GET /api/customers - List all customers",
          "status": "passed",
          "duration": 22,
          "details": "Retrieved 10 customers"
        },
        {
          "name": "GET /api/customers/search - Search customers",
          "status": "passed",
          "duration": 15,
          "details": "Search completed"
        },
        {
          "name": "POST /api/customers - Create new customer",
          "status": "passed",
          "duration": 40,
          "details": "Created customer with ID: 25"
        },
        {
          "name": "GET /api/customers/:id - Get customer by ID",
          "status": "failed",
          "duration": 13,
          "error": "Customer data mismatch"
        },
        {
          "name": "PUT /api/customers/:id - Update customer",
          "status": "passed",
          "duration": 19,
          "details": "Customer updated successfully"
        },
        {
          "name": "GET /api/customers/:id/stats - Get customer statistics",
          "status": "passed",
          "duration": 16,
          "details": "Retrieved stats for customer: 0 repairs"
        },
        {
          "name": "POST /api/customers - Validation (missing name)",
          "status": "passed",
          "duration": 10,
          "details": "Validation correctly rejected missing name"
        },
        {
          "name": "POST /api/customers - Validation (duplicate phone)",
          "status": "failed",
          "duration": 20,
          "error": "Expected 400/409 for duplicate phone, got 201"
        }
      ]
    },
    "frontend": {
      "passed": 2,
      "failed": 0,
      "tests": [
        {
          "name": "Frontend accessibility check",
          "status": "passed",
          "duration": 19,
          "details": "Frontend is accessible"
        },
        {
          "name": "Customers page accessibility",
          "status": "passed",
          "duration": 18,
          "details": "Customers page should be accessible"
        }
      ]
    },
    "database": {
      "passed": 2,
      "failed": 0,
      "tests": [
        {
          "name": "Database connection test",
          "status": "passed",
          "duration": 7,
          "details": "Database connection is healthy"
        },
        {
          "name": "Customer data integrity check",
          "status": "passed",
          "duration": 10,
          "details": "All 12 customers have valid data"
        }
      ]
    },
    "integration": {
      "passed": 3,
      "failed": 0,
      "tests": [
        {
          "name": "Customer-Repair integration",
          "status": "passed",
          "duration": 11,
          "details": "Found 2 repairs linked to customers"
        },
        {
          "name": "Customer-Invoice integration",
          "status": "passed",
          "duration": 14,
          "details": "Found 0 invoices linked to customers"
        },
        {
          "name": "Customer-Payment integration",
          "status": "passed",
          "duration": 6,
          "details": "Found 0 payments linked to customers"
        }
      ]
    },
    "security": {
      "passed": 2,
      "failed": 1,
      "tests": [
        {
          "name": "Unauthorized API access test",
          "status": "passed",
          "duration": 8,
          "details": "API accessible (may not require auth)"
        },
        {
          "name": "SQL injection protection test",
          "status": "passed",
          "duration": 8,
          "details": "Protected against SQL injection"
        },
        {
          "name": "Input validation test",
          "status": "failed",
          "duration": 28,
          "error": "Input validation failed for: {\"name\":\"Test\",\"phone\":\"invalid-phone\"}"
        }
      ]
    },
    "performance": {
      "passed": 2,
      "failed": 0,
      "tests": [
        {
          "name": "API response time test",
          "status": "passed",
          "duration": 6,
          "details": "Response time: 6ms"
        },
        {
          "name": "Concurrent requests handling",
          "status": "passed",
          "duration": 31,
          "details": "Handled 5 concurrent requests in 29ms"
        }
      ]
    }
  },
  "details": {
    "apis": {
      "listCustomers": {
        "endpoint": "/api/customers",
        "method": "GET",
        "responseFormat": "object",
        "customerCount": 10
      },
      "searchCustomers": {
        "endpoint": "/api/customers/search",
        "method": "GET",
        "searchTerm": "محمد",
        "resultCount": 3
      },
      "createCustomer": {
        "endpoint": "/api/customers",
        "method": "POST",
        "customerId": 25,
        "data": {
          "name": "اختبار شامل 1760927945486",
          "phone": "01097945486",
          "email": "test1760927945486@example.com",
          "address": "عنوان اختبار شامل"
        }
      },
      "updateCustomer": {
        "endpoint": "/api/customers/25",
        "method": "PUT",
        "updateData": {
          "name": "اختبار شامل محدث 1760927945540",
          "address": "عنوان محدث"
        }
      },
      "getCustomerStats": {
        "endpoint": "/api/customers/25/stats",
        "method": "GET",
        "stats": {
          "success": true,
          "data": {
            "stats": {
              "customerId": 25,
              "totalRepairs": 0,
              "completedRepairs": 0,
              "pendingRepairs": 0,
              "inProgressRepairs": 0,
              "cancelledRepairs": 0,
              "totalPaid": 0,
              "avgRepairCost": 0,
              "satisfactionRate": 0,
              "lastRepairDate": null,
              "firstRepairDate": null,
              "customerStatus": {
                "isActive": null,
                "isVip": false,
                "riskLevel": "low"
              },
              "recentRepairs": []
            }
          }
        }
      }
    },
    "components": {
      "frontendAccess": {
        "url": "http://localhost:3000",
        "status": 200
      },
      "customersPage": {
        "accessible": true,
        "note": "Frontend accessibility confirmed"
      }
    },
    "database": {
      "connection": {
        "status": "healthy",
        "message": "Fix Zone Backend is running"
      },
      "integrity": {
        "totalCustomers": 12,
        "invalidCustomers": 0,
        "validCustomers": 12
      }
    },
    "relations": {
      "repairs": {
        "totalRepairs": 2,
        "customersWithRepairs": 2
      },
      "invoices": {
        "totalInvoices": 0,
        "customersWithInvoices": 0
      },
      "payments": {
        "totalPayments": 0,
        "customersWithPayments": 0
      }
    },
    "performance": {
      "apiResponseTime": 6,
      "maxAllowed": 2000,
      "concurrentRequests": {
        "count": 5,
        "totalTime": 29,
        "averageTime": 5.8,
        "failedRequests": 0
      }
    }
  }
}