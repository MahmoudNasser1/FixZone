# ๐ ุฏููู ุงุณุชุฎุฏุงู - Customer Management Improvements
## Usage Guide - Customer Management Module Enhancements

**ุงูุชุงุฑูุฎ:** 2025-11-17  
**ุงูุฅุตุฏุงุฑ:** 2.0  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ุนุฏุฉ ุชุญุณููุงุช ูููุฉ ุนูู ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุนููุงุก (Customer Management) ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูุฅุถุงูุฉ ููุฒุงุช ุฅุฏุงุฑูุฉ ูุชูุฏูุฉ. ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู ุฌููุน ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ.

---

## ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### 1. โ ุญุณุงุจ ุญุงูุฉ ุงูุนููุงุก ุชููุงุฆูุงู (Active/Inactive)

**ุงููุตู:** ูุชู ุญุณุงุจ ุญุงูุฉ ุงูุนููู (ูุดุท/ุบูุฑ ูุดุท) ุชููุงุฆูุงู ุจูุงุกู ุนูู ุขุฎุฑ ุชูุงุนู ูุน ุงููุธุงู. ุงูุนููู ูุนุชุจุฑ "ูุดุท" ุฅุฐุง ูุงูุช ุขุฎุฑ ุทูุจ ุฅุตูุงุญ ูู ุฎูุงู ุขุฎุฑ 90 ููู.

**ุงูุงุณุชุฎุฏุงู:**
- โ ุชููุงุฆู: ูุง ุญุงุฌุฉ ูุฃู ุฅุฌุฑุงุก ูู ุงููุณุชุฎุฏู
- โ ูุธูุฑ ูู ูุงุฆูุฉ ุงูุนููุงุก ูู Badge (ุฃุฎุถุฑ = ูุดุทุ ุฑูุงุฏู = ุบูุฑ ูุดุท)
- โ ูููู ุงูููุชุฑุฉ: ุงุฎุชุฑ "ูุดุท" ุฃู "ุบูุฑ ูุดุท" ูู Filter dropdown

**ุฃูุซูุฉ:**
```
โ ุนููู ูู ุทูุจ ุฅุตูุงุญ ูุจู 30 ููู โ "ูุดุท"
โ ุนููู ุขุฎุฑ ุทูุจ ุฅุตูุงุญ ูู ูุจู 100 ููู โ "ุบูุฑ ูุดุท"
โ ุนููู ุจุฏูู ุฃู ุทูุจุงุช ุฅุตูุงุญ โ "ุบูุฑ ูุดุท"
```

---

### 2. โ ุชุชุจุน ุงูุฃุฑุตุฏุฉ ุงููุณุชุญูุฉ ููุนููุงุก (Outstanding Balance)

**ุงููุตู:** ูุชู ุญุณุงุจ ุงูุฑุตูุฏ ุงููุณุชุญู ููู ุนููู ุชููุงุฆูุงู ูู ุงูููุงุชูุฑ ุบูุฑ ุงููุฏููุนุฉ (`totalAmount - amountPaid`).

**ุงูุงุณุชุฎุฏุงู:**

#### ุฃ. ูู ุตูุญุฉ ูุงุฆูุฉ ุงูุนููุงุก (CustomersPage):

**1. ุนุฑุถ ูู ุงูุฌุฏูู:**
- ุงูุชุญ ุตูุญุฉ `/customers`
- ุงููุฑ ุนูู ุฒุฑ "ุฌุฏูู" (Table view)
- ุณุชุฌุฏ column ุฌุฏูุฏ "ุงูุฑุตูุฏ ุงููุณุชุญู"
- ุงูุฃููุงู:
  - ๐ด ุฃุญูุฑ = ููุฌุฏ ุฑุตูุฏ ูุณุชุญู (> 0)
  - ๐ข ุฃุฎุถุฑ = ูุง ููุฌุฏ ุฑุตูุฏ ูุณุชุญู (= 0)

**2. ุนุฑุถ ูู ุงูุจุทุงูุงุช (Cards view):**
- ุงุฎุชุฑ "ุจุทุงูุงุช" (Cards view)
- ุฅุฐุง ูุงู ุงูุนููู ูุฏูู ุฑุตูุฏ ูุณุชุญูุ ุณุชุธูุฑ "ูุฏูู: X.XX ุฌ.ู" ุจุงูููู ุงูุฃุญูุฑ

**3. ุฅุญุตุงุฆูุงุช:**
- ุจุทุงูุฉ ุฅุญุตุงุฆูุงุช "ุนููุงุก ูุฏูููู" ุชุนุฑุถ ุนุฏุฏ ุงูุนููุงุก ุงูุฐูู ูุฏููู ุฑุตูุฏ ูุณุชุญู

**4. Filter "ุนููุงุก ูุฏูููู":**
```
1. ุงูุชุญ Filter dropdown
2. ุงุฎุชุฑ "ุนููุงุก ูุฏูููู"
3. ุณุชุธูุฑ ููุท ุงูุนููุงุก ุงูุฐูู ูุฏููู outstandingBalance > 0
```

**5. Sort ุญุณุจ ุงูุฑุตูุฏ ุงููุณุชุญู:**
```
1. ูู Table viewุ ุงููุฑ ุนูู header "ุงูุฑุตูุฏ ุงููุณุชุญู"
2. ุงูููุฑุฉ ุงูุฃููู: ุชุฑุชูุจ ุชูุงุฒูู (ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ)
3. ุงูููุฑุฉ ุงูุซุงููุฉ: ุชุฑุชูุจ ุชุตุงุนุฏู (ูู ุงูุฃุตุบุฑ ููุฃูุจุฑ)
4. ุงูููุฑุฉ ุงูุซุงูุซุฉ: ุฅูุบุงุก ุงูุชุฑุชูุจ
```

#### ุจ. ูู ุตูุญุฉ ุชูุงุตูู ุงูุนููู (CustomerDetailsPage):

**1. ูุณู "ุงูููุฎุต ุงููุงูู":**
- ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุนููู (`/customers/:id`)
- ูู ุงูุดุฑูุท ุงูุฌุงูุจูุ ุณุชุฌุฏ ูุณู "ุงูููุฎุต ุงููุงูู" ูุญุชูู ุนูู:
  - ุฅุฌูุงูู ุงููุฏููุนุงุช
  - ูุชูุณุท ุงูุชูููุฉ
  - **ุงูุฑุตูุฏ ุงููุณุชุญู** โ ุงูุฌุฏูุฏ
- ุฅุฐุง ูุงู ุงูุฑุตูุฏ ุงููุณุชุญู > 0ุ ุณุชุธูุฑ ุชูุจูู: โ๏ธ ููุฌุฏ ุฑุตูุฏ ูุณุชุญู

---

### 3. โ Filter "ุนููุงุก ูุฏูููู"

**ุงููุตู:** Filter ุฌุฏูุฏ ูุนุฑุถ ููุท ุงูุนููุงุก ุงูุฐูู ูุฏููู ุฑุตูุฏ ูุณุชุญู.

**ุงูุงุณุชุฎุฏุงู:**

#### ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู:
```
1. ุงูุชุญ ุตูุญุฉ `/customers`
2. ุงุจุญุซ ุนู Filter dropdown (ุจุฌุงูุจ Search box)
3. ุงุฎุชุฑ "ุนููุงุก ูุฏูููู"
4. ุณูุชู ุชุญุฏูุซ ุงููุงุฆูุฉ ุชููุงุฆูุงู ูุนุฑุถ ููุท ุงูุนููุงุก ุงููุฏูููู
5. ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฃุนูู ุณุชุชุญุฏุซ ุฃูุถุงู
```

#### ูู API (cURL):
```bash
# ุชุณุฌูู ุงูุฏุฎูู
curl -c cookies.txt -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"loginIdentifier":"admin@fixzone.com","password":"admin123"}'

# ุฌูุจ ุงูุนููุงุก ุงููุฏูููู
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&hasDebt=true" \
  | jq '.'
```

**ุงููุชูุฌุฉ:**
- ูุนูุฏ ููุท ุงูุนููุงุก ุงูุฐูู ูุฏููู `outstandingBalance > 0`
- Count ูู response ูุนูุณ ุนุฏุฏ ุงูุนููุงุก ุงููุฏูููู ููุท

---

### 4. โ Sort ุญุณุจ ุงูุฑุตูุฏ ุงููุณุชุญู

**ุงููุตู:** ุฅููุงููุฉ ุชุฑุชูุจ ุงูุนููุงุก ุญุณุจ ุงูุฑุตูุฏ ุงููุณุชุญู (ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ ุฃู ุงูุนูุณ).

**ุงูุงุณุชุฎุฏุงู:**

#### ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู:
```
1. ุงูุชุญ ุตูุญุฉ `/customers`
2. ุงููุฑ ุนูู ุฒุฑ "ุฌุฏูู" (Table view)
3. ุงููุฑ ุนูู header "ุงูุฑุตูุฏ ุงููุณุชุญู"
4. ุงูููุฑุฉ ุงูุฃููู: ุชุฑุชูุจ ุชูุงุฒูู (DESC) - ุงูุนููุงุก ุงูุฃูุซุฑ ุฏููุงู ุฃููุงู
5. ุงูููุฑุฉ ุงูุซุงููุฉ: ุชุฑุชูุจ ุชุตุงุนุฏู (ASC) - ุงูุนููุงุก ุจุฏูู ุฏูู ุฃููุงู
6. ุงูููุฑุฉ ุงูุซุงูุซุฉ: ุฅูุบุงุก ุงูุชุฑุชูุจ (ุงูุนูุฏุฉ ููุชุฑุชูุจ ุงูุงูุชุฑุงุถู)
```

#### ูู API (cURL):
```bash
# ุชุฑุชูุจ ุชูุงุฒูู (ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ)
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&sort=outstandingBalance&sortDir=DESC" \
  | jq '.data.customers[] | {id, name, outstandingBalance}'

# ุชุฑุชูุจ ุชุตุงุนุฏู (ูู ุงูุฃุตุบุฑ ููุฃูุจุฑ)
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&sort=outstandingBalance&sortDir=ASC" \
  | jq '.data.customers[] | {id, name, outstandingBalance}'
```

**ุงููุชูุฌุฉ:**
- ุงูุนููุงุก ูุฑุชุจูู ุญุณุจ `outstandingBalance`
- ูููู ุฏูุฌ Sort ูุน Filters (ูุซูุงู: ุนููุงุก ูุฏูููู + ุชุฑุชูุจ ุญุณุจ ุงูุฑุตูุฏ)

---

### 5. โ Sort ุญุณุจ ุญุงูุฉ ุงูุนููู (isActive)

**ุงููุตู:** ุฅููุงููุฉ ุชุฑุชูุจ ุงูุนููุงุก ุญุณุจ ุงูุญุงูุฉ (ูุดุท ุฃููุงู ุฃู ุบูุฑ ูุดุท ุฃููุงู).

**ุงูุงุณุชุฎุฏุงู:**

#### ูู API (cURL):
```bash
# ุชุฑุชูุจ ุชูุงุฒูู (ูุดุท ุฃููุงู)
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&sort=isActive&sortDir=DESC" \
  | jq '.data.customers[] | {id, name, isActive}'

# ุชุฑุชูุจ ุชุตุงุนุฏู (ุบูุฑ ูุดุท ุฃููุงู)
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&sort=isActive&sortDir=ASC" \
  | jq '.data.customers[] | {id, name, isActive}'
```

---

## ๐ ุฏูุฌ ุงูููุงุชุฑ ูุงูุชุฑุชูุจ

ููููู ุฏูุฌ Filters ูุน Sort ููุญุตูู ุนูู ูุชุงุฆุฌ ุฏูููุฉ:

### ุฃูุซูุฉ:

#### 1. ุนููุงุก ูุฏูููู + ุชุฑุชูุจ ุญุณุจ ุงูุฑุตูุฏ (ูู ุงูุฃูุจุฑ ููุฃุตุบุฑ):
```bash
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&hasDebt=true&sort=outstandingBalance&sortDir=DESC" \
  | jq '.'
```

#### 2. ุนููุงุก ูุดุทูู + ุนููุงุก ูุฏูููู:
```bash
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&isActive=true&hasDebt=true" \
  | jq '.'
```

#### 3. ุนููุงุก ุบูุฑ ูุดุทูู + ุชุฑุชูุจ ุญุณุจ ุงูุฑุตูุฏ:
```bash
curl -b cookies.txt \
  "http://localhost:3001/api/customers?page=1&pageSize=20&isActive=false&sort=outstandingBalance&sortDir=DESC" \
  | jq '.'
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช:

1. **ุฅุฌูุงูู ุงูุนููุงุก:** ุนุฏุฏ ุฌููุน ุงูุนููุงุก (ูู ุฌููุน ุงูุตูุญุงุช)
2. **ุนููุงุก VIP:** ุนุฏุฏ ุงูุนููุงุก ุงููููุฒูู
3. **ูุดุท:** ุนุฏุฏ ุงูุนููุงุก ุงููุดุทูู (ูู ุงูุตูุญุฉ ุงูุญุงููุฉ)
4. **ุบูุฑ ูุดุท:** ุนุฏุฏ ุงูุนููุงุก ุบูุฑ ุงููุดุทูู (ูู ุงูุตูุญุฉ ุงูุญุงููุฉ)
5. **ุนููุงุก ูุฏูููู:** ุนุฏุฏ ุงูุนููุงุก ุงูุฐูู ูุฏููู ุฑุตูุฏ ูุณุชุญู (ูู ุงูุตูุญุฉ ุงูุญุงููุฉ) โ **ุฌุฏูุฏ**

---

## ๐จ ุงูุฃููุงู ูุงููุคุดุฑุงุช

### ุงูุฑุตูุฏ ุงููุณุชุญู (Outstanding Balance):
- ๐ด **ุฃุญูุฑ:** `outstandingBalance > 0` โ ููุฌุฏ ุฑุตูุฏ ูุณุชุญู
- ๐ข **ุฃุฎุถุฑ:** `outstandingBalance = 0` โ ูุง ููุฌุฏ ุฑุตูุฏ ูุณุชุญู

### ุญุงูุฉ ุงูุนููู (Status):
- ๐ข **ุฃุฎุถุฑ (ูุดุท):** ุขุฎุฑ ุทูุจ ุฅุตูุงุญ ุฎูุงู ุขุฎุฑ 90 ููู
- โช **ุฑูุงุฏู (ุบูุฑ ูุดุท):** ุขุฎุฑ ุทูุจ ุฅุตูุงุญ ููุฐ ุฃูุซุฑ ูู 90 ููู ุฃู ูุง ููุฌุฏ ุทูุจุงุช

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุงูุนุซูุฑ ุนูู ุงูุนููุงุก ุงูุฃูุซุฑ ุฏููุงู
```
1. ุงูุชุญ `/customers`
2. ุงุฎุชุฑ "ุฌุฏูู" (Table view)
3. ุงููุฑ ุนูู "ุงูุฑุตูุฏ ุงููุณุชุญู" (Sort descending)
4. ุณุชุฌุฏ ุงูุนููุงุก ุงูุฃูุซุฑ ุฏููุงู ูู ุงูุฃุนูู
```

### ูุซุงู 2: ูุชุงุจุนุฉ ุงูุนููุงุก ุงููุฏูููู ุงููุดุทูู
```
1. ุงูุชุญ `/customers`
2. ุงุฎุชุฑ Filter "ูุดุท"
3. ุงุฎุชุฑ Filter "ุนููุงุก ูุฏูููู" (ุฅุฐุง ูุงู ูุชุงุญุงู)
4. ุฃู ุงุณุชุฎุฏู Search ููุจุญุซ ุนู ุนููู ูุญุฏุฏ
5. ุงููุฑ ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ูุฑุคูุฉ ุงูุฑุตูุฏ ุงููุณุชุญู
```

### ูุซุงู 3: ุนุฑุถ ููุฎุต ูุงูู ูุนููู
```
1. ุงูุชุญ `/customers`
2. ุงููุฑ ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ูุฃู ุนููู
3. ูู ุงูุดุฑูุท ุงูุฌุงูุจูุ ุณุชุฌุฏ ูุณู "ุงูููุฎุต ุงููุงูู"
4. ุฑุงุฌุน:
   - ุฅุฌูุงูู ุงููุฏููุนุงุช
   - ูุชูุณุท ุงูุชูููุฉ
   - ุงูุฑุตูุฏ ุงููุณุชุญู
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Filter "ุนููุงุก ูุฏูููู" ูุง ูุนูู
**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูุณูุฑูุฑ ูุนูู ุจุดูู ุตุญูุญ
- ุชุญูู ูู Console ููุฃุฎุทุงุก
- ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

### ุงููุดููุฉ: Sort ุญุณุจ ุงูุฑุตูุฏ ุงููุณุชุญู ูุง ูุนูู
**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃูู ูู Table view
- ุงููุฑ ุนูู header "ุงูุฑุตูุฏ ุงููุณุชุญู" ูุจุงุดุฑุฉ (ูููุณ ุนูู ุฃููููุฉ Sort)
- ุชุญูู ูู ุฃู ุงูุจูุงูุงุช ุชุญุชูู ุนูู `outstandingBalance`

### ุงููุดููุฉ: ุงูุฑุตูุฏ ุงููุณุชุญู ูุธูุฑ "0.00" ูุฌููุน ุงูุนููุงุก
**ุงูุญู:**
- ูุฐุง ุทุจูุนู ุฅุฐุง ูู ููู ููุงู ููุงุชูุฑ ุบูุฑ ูุฏููุนุฉ
- ูุฅูุดุงุก ูุงุชูุฑุฉ ุบูุฑ ูุฏููุนุฉ:
  1. ุฃูุดุฆ ูุงุชูุฑุฉ ูู `/invoices/new`
  2. ุงุฑุจุทูุง ุจุนููู
  3. ุงุชุฑู `amountPaid < totalAmount`

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. โ๏ธ **ุญุงูุฉ ุงูุนููู (Active/Inactive)** ุชูุญุณุจ ุชููุงุฆูุงู ููุง ูููู ุชุนุฏูููุง ูุฏููุงู
2. โ๏ธ **ุงูุฑุตูุฏ ุงููุณุชุญู** ููุญุณุจ ุชููุงุฆูุงู ูู ุฌุฏูู `Invoice` ููุง ูููู ุชุนุฏููู ูุจุงุดุฑุฉ
3. โ **Filters** ูููู ุฏูุฌูุง ูุน ุจุนุถูุง ุงูุจุนุถ
4. โ **Sort** ูููู ุฏูุฌู ูุน Filters
5. โ **Pagination** ูุนูู ูุน ุฌููุน Filters ู Sort

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-17  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**

